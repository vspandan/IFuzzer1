eval ( "// single line comment\u000D" ) ; var x = 0 ; eval if ( typeof countHeap == 'undefined' ) { expect = actual = 'Test skipped' ; print ( 'Test skipped. Requires countHeap function.' ) ; } else { var x = f ( ) ; f ( ) ; gc ( ) ; var n = countHeap ( ) ; x = null ; eval ( "" ) ; gc ( ) ; var n2 = countHeap ( ) ; if ( n2 >= n ) actual = "leak is detected, something roots the result of f" ; } ; if ( x !== 1 ) { $ERROR ( '#1: var x = 0; eval("// single line comment\\u000D x = 1;"); x === 1. Actual: ' + ( singleExpression expressionSequence ) ) ; }