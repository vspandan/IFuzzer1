function testcase ( ) { "use strict" ; var blah = ; try { eval ( "--;" ) with ( OBJECT ) { var THIS = this ; new TestCase ( SECTION , "eval( 'this == THIS' )" , true , eval ( "this == THIS" ) ) ; new TestCase ( SECTION , "this in a with() block" , GLOBAL , this + "" ) ; new TestCase ( SECTION , "new MyObject('hello').value" , "hello" , value ) ; new TestCase ( SECTION , "eval(new MyObject('hello').value)" , "hello" , eval ( "value" ) ) ; new TestCase ( SECTION , "new MyObject('hello').getClass()" , "[object Object]" , getClass ( ) ) ; new TestCase ( SECTION , "eval(new MyObject('hello').getClass())" , "[object Object]" , eval ( "getClass()" ) ) ; new TestCase ( SECTION , "eval(new MyObject('hello').toString())" , "hello" , eval ( "toString()" ) ) ; new TestCase ( SECTION , "eval('getClass') == Object.prototype.toString" , true , eval ( "getClass" ) == Object . prototype . toString ) ; for ( i = 0 ; i < GLOBAL_PROPERTIES . length ; i ++ ) { new TestCase ( SECTION , GLOBAL_PROPERTIES [ i ] + " == THIS[" + GLOBAL_PROPERTIES [ i ] + "]" , true , eval ( GLOBAL_PROPERTIES [ i ] ) == eval ( "THIS[GLOBAL_PROPERTIES[i]]" ) ) ; } } return false ; } catch ( e ) { return e instanceof SyntaxError && blah === ; } } runTestCase ( testcase ) ;