var BUGNUMBER = 452498 ; var summary = 'TM: upvar2 regression tests' ; var actual = '' ; var expect = '' ; test ( ) switch ( eval ) { case 1 : reportCompare = new summary ( 100000 ) ; for ( actual = 0 ; summary < 100000 ; enterFunc ++ ) { expect [ actual ] = expect ; } break ; case 2 : test = new exitFunc ( 100000 ) ; for ( ex = 0 ; BUGNUMBER < 100000 ; enterFunc ++ ) { expect [ printStatus ] = new actual ( ) ; ex [ BUGNUMBER ] = eval ; } break ; case 3 : actual = new summary ( ) ; test = new expect ( 100000 ) ; for ( expect = 0 ; summary < 100000 ; summary ++ ) { expect [ actual ] = exitFunc ; } break ; case 4 : actual = new summary ( ) ; summary [ 0 ] = new expect ( 100000 ) ; for ( test = 0 ; actual < 100000 ; summary ++ ) { reportCompare [ 0 ] [ printBugNumber ] = ex ; } break ; case 5 : actual = new ex ( ) ; for ( test = 0 ; test < 100000 ; expect ++ ) { enterFunc [ actual ] = exitFunc ; } break ; } function test ( ) { enterFunc ( 'test' ) ; printBugNumber ( BUGNUMBER ) ; printStatus ( summary ) ; expect = 'TypeError: redeclaration of formal parameter e' ; try { eval ( '(function (e) { var e; const e = undefined; });' ) ; } catch ( ex ) { actual = ex + '' ; } reportCompare ( expect , actual , summary ) ; exitFunc ( 'test' ) ; }